"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),t}$(function(){$("ul li").mouseover(function(){$(this).find("img").css("border-color","#FF0000").parent().siblings().find("img").css("border-color","#ccc"),$("ol li").find("img").attr("src",$(this).find("img").attr("src")),$(".datu").find("img").attr("src",$(this).find("img").attr("src"))}),$(".zhezhao").bind({mouseover:function(){$(".float").css("display","block"),$(".datu").css("display","block")},mouseout:function(){$(".float").css("display","none"),$(".datu").css("display","none")},mousemove:function(t){var e=t.offsetX-$(".float").width()/2,t=t.offsetY-$(".float").height()/2;e<0&&(e=0),e>$(".zhezhao").width()-$(".float").width()&&(e=$(".zhezhao").width()-$(".float").width()),t<0&&(t=0),t>$(".zhezhao").height()-$(".float").height()&&(t=$(".zhezhao").height()-$(".float").height()),$(".float").css("top",t+"px"),$(".float").css("left",e+"px");e/=$(".zhezhao").width()-$(".float").width(),t/=$(".zhezhao").height()-$(".float").height();$(".datu img").css("left",-e*($(".datu img").width()-$(".datu").width())+"px"),$(".datu img").css("top",-t*($(".datu img").height()-$(".datu").height())+"px")}})});var Product=function(){function t(){_classCallCheck(this,t),this.init(),this.initCartNum()}return _createClass(t,[{key:"initCartNum",value:function(){var t,e=window.localStorage,e=e.getItem("carts")?e.getItem("carts"):"",o=this.convertStrToObj(e),i=0;for(t in o)i+=o[t].num;this.buy.value="购物车(".concat(i,")")}},{key:"init",value:function(){this.add=document.querySelectorAll(".addToCart"),this.buy=document.querySelector("#buy"),this.addEvent()}},{key:"addEvent",value:function(){var r=this;this.buy.onclick=function(){location.href="./cart.html"};for(var t=0,e=this.add.length;t<e;t++)this.add[t].onclick=function(){var t=this.parentNode.getAttribute("data-good-id"),e=this.previousElementSibling.previousElementSibling.innerText,o=parseInt(this.previousElementSibling.innerText),i=this.parentNode.firstElementChild.src,n=window.localStorage,s=n.getItem("carts")?n.getItem("carts"):"",s=r.convertStrToObj(s);t in s?s[t].num++:s[t]={name:e,price:o,src:i,num:1},n.setItem("carts",JSON.stringify(s));s=parseInt(/(\d+)/.exec(r.buy.value)[1]);r.buy.value="购物车(".concat(++s,")")}}},{key:"convertStrToObj",value:function(t){return t?JSON.parse(t):{}}}]),t}();new Product,window.onscroll=function(){777<Math.floor(document.documentElement.scrollTop||document.body.scrollTop)?$(".pro").css({position:"fixed",top:0}):$(".pro").css("position","static")},$(".intor").css({display:"flex"}),$(".mod").css({display:"none"}),$(".introduce").click(function(){$(this).css({background:"white",color:"blue",borderTop:"1px solid blue",borderRight:"1px solid rgb(212, 210, 210)"}),$(".model").css({background:"rgb(230, 230, 230)",color:"black",borderRight:"none"}),$(".intor").css({display:"flex"}),$(".mod").css({display:"none"})}),$(".model").click(function(){$(this).css({background:"white",color:"blue",borderTop:"1px solid blue",borderRight:"1px solid rgb(212, 210, 210)"}),$(".introduce").css({background:"rgb(230, 230, 230)",color:"black",borderRight:"none"}),$(".mod").css({display:"block"}),$(".intor").css({display:"none"})});